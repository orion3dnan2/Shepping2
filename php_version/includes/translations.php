<?php
/**
 * Translation System
 * Shipping Management System - PHP Version
 */

$translations = [
    'ar' => [
        // Navigation
        'dashboard' => 'لوحة التحكم',
        'add_shipment' => 'إضافة شحنة جديدة',
        'shipments' => 'الشحنات',
        'tracking' => 'تتبع الشحنات',
        'financial_center' => 'المركز المالي',
        'settings' => 'الإعدادات',
        'logout' => 'تسجيل الخروج',
        'login' => 'تسجيل الدخول',
        
        // Forms
        'sender_name' => 'اسم المرسل',
        'sender_phone' => 'هاتف المرسل',
        'sender_address' => 'عنوان المرسل',
        'receiver_name' => 'اسم المستلم',
        'receiver_phone' => 'هاتف المستلم',
        'receiver_address' => 'عنوان المستلم',
        'weight' => 'الوزن',
        'price' => 'السعر',
        'paid_amount' => 'المبلغ المدفوع',
        'remaining_amount' => 'المبلغ المتبقي',
        'package_contents' => 'محتويات الطرد',
        'package_type' => 'نوع الطرد',
        'shipping_method' => 'طريقة الشحن',
        'zone' => 'المنطقة',
        'packaging' => 'تغليف',
        'notes' => 'ملاحظات',
        
        // Status
        'created' => 'تم الإنشاء',
        'packaged' => 'تم التعبئة',
        'dispatching' => 'جاري الإرسال',
        'shipped' => 'تم الشحن',
        'in_transit' => 'في الطريق',
        'received' => 'تم الاستلام',
        'delivered' => 'تم التسليم',
        'cancelled' => 'ملغي',
        
        // Actions
        'save' => 'حفظ',
        'edit' => 'تعديل',
        'delete' => 'حذف',
        'print' => 'طباعة',
        'search' => 'بحث',
        'add' => 'إضافة',
        'update' => 'تحديث',
        'cancel' => 'إلغاء',
        'close' => 'إغلاق',
        
        // Messages
        'success' => 'تم بنجاح',
        'error' => 'خطأ',
        'warning' => 'تحذير',
        'info' => 'معلومات',
        'confirm_delete' => 'هل أنت متأكد من الحذف؟',
        'no_data' => 'لا توجد بيانات',
        'loading' => 'جاري التحميل...',
        
        // Validation
        'required_field' => 'هذا الحقل مطلوب',
        'invalid_email' => 'البريد الإلكتروني غير صحيح',
        'invalid_phone' => 'رقم الهاتف غير صحيح',
        'passwords_dont_match' => 'كلمات المرور غير متطابقة',
        
        // Dashboard
        'total_shipments' => 'إجمالي الشحنات',
        'pending_shipments' => 'الشحنات المعلقة',
        'delivered_shipments' => 'الشحنات المسلمة',
        'total_revenue' => 'إجمالي الإيرادات',
        'recent_shipments' => 'الشحنات الأخيرة',
        
        // Financial
        'expenses' => 'المصروفات',
        'revenues' => 'الإيرادات',
        'reports' => 'التقارير',
        'air_shipping' => 'الشحن الجوي',
        'land_shipping' => 'الشحن البري',
        'documents' => 'المستندات',
        
        // Others
        'tracking_number' => 'رقم التتبع',
        'created_at' => 'تاريخ الإنشاء',
        'updated_at' => 'تاريخ التحديث',
        'general' => 'عامة',
        'document' => 'مستندات'
    ],
    
    'en' => [
        // Navigation
        'dashboard' => 'Dashboard',
        'add_shipment' => 'Add New Shipment',
        'shipments' => 'Shipments',
        'tracking' => 'Tracking',
        'financial_center' => 'Financial Center',
        'settings' => 'Settings',
        'logout' => 'Logout',
        'login' => 'Login',
        
        // Forms
        'sender_name' => 'Sender Name',
        'sender_phone' => 'Sender Phone',
        'sender_address' => 'Sender Address',
        'receiver_name' => 'Receiver Name',
        'receiver_phone' => 'Receiver Phone',
        'receiver_address' => 'Receiver Address',
        'weight' => 'Weight',
        'price' => 'Price',
        'paid_amount' => 'Paid Amount',
        'remaining_amount' => 'Remaining Amount',
        'package_contents' => 'Package Contents',
        'package_type' => 'Package Type',
        'shipping_method' => 'Shipping Method',
        'zone' => 'Zone',
        'packaging' => 'Packaging',
        'notes' => 'Notes',
        
        // Status
        'created' => 'Created',
        'packaged' => 'Packaged',
        'dispatching' => 'Dispatching',
        'shipped' => 'Shipped',
        'in_transit' => 'In Transit',
        'received' => 'Received',
        'delivered' => 'Delivered',
        'cancelled' => 'Cancelled',
        
        // Actions
        'save' => 'Save',
        'edit' => 'Edit',
        'delete' => 'Delete',
        'print' => 'Print',
        'search' => 'Search',
        'add' => 'Add',
        'update' => 'Update',
        'cancel' => 'Cancel',
        'close' => 'Close',
        
        // Messages
        'success' => 'Success',
        'error' => 'Error',
        'warning' => 'Warning',
        'info' => 'Information',
        'confirm_delete' => 'Are you sure you want to delete?',
        'no_data' => 'No data available',
        'loading' => 'Loading...',
        
        // Validation
        'required_field' => 'This field is required',
        'invalid_email' => 'Invalid email address',
        'invalid_phone' => 'Invalid phone number',
        'passwords_dont_match' => 'Passwords do not match',
        
        // Dashboard
        'total_shipments' => 'Total Shipments',
        'pending_shipments' => 'Pending Shipments',
        'delivered_shipments' => 'Delivered Shipments',
        'total_revenue' => 'Total Revenue',
        'recent_shipments' => 'Recent Shipments',
        
        // Financial
        'expenses' => 'Expenses',
        'revenues' => 'Revenues',
        'reports' => 'Reports',
        'air_shipping' => 'Air Shipping',
        'land_shipping' => 'Land Shipping',
        'documents' => 'Documents',
        
        // Others
        'tracking_number' => 'Tracking Number',
        'created_at' => 'Created At',
        'updated_at' => 'Updated At',
        'general' => 'General',
        'document' => 'Documents'
    ]
];

/**
 * Get translated text
 */
function __($key, $lang = null) {
    global $translations;
    
    $lang = $lang ?? ($_SESSION['language'] ?? DEFAULT_LANGUAGE);
    
    return $translations[$lang][$key] ?? $key;
}

/**
 * Set language
 */
function setLanguage($lang) {
    if (in_array($lang, ['ar', 'en'])) {
        $_SESSION['language'] = $lang;
    }
}

/**
 * Get current language
 */
function getCurrentLanguage() {
    return $_SESSION['language'] ?? DEFAULT_LANGUAGE;
}

/**
 * Check if current language is RTL
 */
function isRTL() {
    return getCurrentLanguage() === 'ar';
}
?>